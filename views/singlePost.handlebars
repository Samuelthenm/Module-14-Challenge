<main class="post-page">
    <section class="post-details">
        <h2>{{post.title}}</h2>
        <p>{{post.content}}</p>
        <p>Posted by {{post.user.username}} on {{post.createdAt}}</p>
    </section>

    <section class="comments-section">
        <h3>Comments</h3>
        {{#if post.comments.length}}
            <ul>
                {{#each post.comments}}
                    <li class="comment-item">
                        <p>{{this.comment_text}} - by {{this.user.username}} on {{this.createdAt}}</p>
                        <button class="btn delete-comment" data-id="{{this.id}}">Delete</button>
                    </li>
                {{/each}}
            </ul>
        {{else}}
            <p>No comments yet.</p>
        {{/if}}
    </section>

    <section class="add-comment">
        <h3>Add a Comment</h3>
        <form class="comment-form" data-postid="{{post.id}}">
            <textarea id="comment-text" name="comment_text" required></textarea>
            <button type="submit" class="btn">Add Comment</button>
        </form>
    </section>
</main>

<script src="/js/comment.js"></script>